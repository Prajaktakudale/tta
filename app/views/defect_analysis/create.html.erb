<head xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html"
      xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
  <link rel="stylesheet" href="../../assets/stylesheets/defect_analysis.css"/>
  <script type="text/javascript" src="../../assets/javascripts/defect_analysis.js"></script>

  <style type="text/css">
      body {
          position: relative;
      }
  </style>
</head>

<%= render :file => 'defect_analysis/new.html.erb' %>
<body>

<div class="color_codes" style="display: none;">
  <h3 class="legend_header">Legend:</h3>

  <div class="legend_item" id="type3"><span class="rect"></span><span class="legend_text">Test Category</span></div>
  <div class="legend_item" id="type1"><span class="rect"></span><span class="legend_text">Failure Message</span></div>
  <div class="legend_item" id="type2"><span class="rect"></span><span class="legend_text">Failing Tests</span></div>

</div>
<div id="container">
  <% if flash[:no_errors]!=nil %>
      <span class="display-message"><%= flash[:no_errors] %><br></span>
  <% end %>
  <div id="defect-analysis">
    <table id="defect_analysis_table" class="table-bordered" style="display: none;">
      <tr class='table-bordered'><th>FAILURE MESSAGE -> FAILING TESTS</th><th>PERCENTAGE</th></tr>
    </table>
  </div>

  <div id="defect-analysis-data" style="display:none;">
  </div>

  <% if flash[:no_errors] == nil %>
      <script type="text/javascript">
          var json = "<%=  @defect_analysis_json%>";
          renderDefectTable.renderTable(json);
      </script>
  <% end %>
</div>
</body>
